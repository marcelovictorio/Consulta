// Obter o IP externo usando uma API externa (nem sempre confiável)
fetch('https://api.ipify.org?format=json')
  .then(response => response.json())
  .then(data => console.log('IP externo:', data.ip))
  .catch(error => console.error('Erro ao obter IP externo:', error));

// Obter o IP interno (pode não funcionar em todos os navegadores)
const RTCPeerConnection = window.RTCPeerConnection ||
  window.mozRTCPeerConnection ||
  window.webkitRTCPeerConnection;

if (RTCPeerConnection) {
  const pc = new RTCPeerConnection();
  pc.onicecandidate = (event) => {
    if (event.candidate) {
      const ipRegex = /candidate:\d+ \d+ (\d+\.\d+\.\d+\.\d+)/;
      const match = event.candidate.candidate.match(ipRegex);
      if (match) {
        const internalIP = match[1];
        console.log('IP interno:', internalIP);
      }
    }
  };

  pc.createOffer()
    .then(sdp => {
      return pc.setLocalDescription(sdp);
    })
    .then(() => {
      const sdpLines = pc.localDescription.sdp.split('\n');
      for (const line of sdpLines) {
        if (line.startsWith('a=candidate:')) {
          const ipRegex = /candidate:\d+ \d+ (\d+\.\d+\.\d+\.\d+)/;
          const match = line.match(ipRegex);
          if (match) {
            const internalIP = match[1];
            console.log('IP interno:', internalIP);
          }
        }
      }
    })
    .catch(error => console.error('Erro ao obter IP interno:', error));
} else {
  console.error('RTCPeerConnection não disponível');
}
